;Set current group goal IDs
(defrule
(true)
=>
(set-goal g-current-group-flag-goal-id g-before-group-flags-goal-id)   ;flag goal stores the unit types in the goal, among other things, it's not the group-flag number
(up-modify-goal g-current-group-flag-goal-id g:+ g-current-group)
(set-goal g-current-group-type-flag-goal-id g-before-group-type-flags-goal-id)   ;flag goal stores the unit types in the goal, among other things, it's not the group-flag number
(up-modify-goal g-current-group-type-flag-goal-id g:+ g-current-group)
(set-goal g-current-group-action-goal-id g-before-group-actions-goal-id)
(up-modify-goal g-current-group-action-goal-id g:+ g-current-group)
(set-goal g-current-group-target-object-goal-id g-before-group-target-objects-goal-id)
(up-modify-goal g-current-group-target-object-goal-id g:+ g-current-group)
(set-goal g-current-group-destination-time-goal-id g-before-group-destination-times-goal-id)
(up-modify-goal g-current-group-destination-time-goal-id g:+ g-current-group)
(set-goal g-current-group-avoidance-counter-goal-id g-before-group-avoidance-counters-goal-id)
(up-modify-goal g-current-group-avoidance-counter-goal-id g:+ g-current-group)
)

(defrule
(true)
=>
(set-goal g-current-group-location-x-goal-id g-before-group-locations-goal-id)
(up-modify-goal g-current-group-location-x-goal-id g:+ g-current-group)
(up-modify-goal g-current-group-location-x-goal-id g:+ g-current-group)
(up-modify-goal g-current-group-location-y-goal-id g:= g-current-group-location-x-goal-id)
(up-modify-goal g-current-group-location-y-goal-id c:+ 1)
(up-modify-goal g-current-group-destination-x-goal-id g:= g-current-group-location-x-goal-id)
(up-modify-goal g-current-group-destination-x-goal-id c:+ 12)
(up-modify-goal g-current-group-destination-y-goal-id g:= g-current-group-destination-x-goal-id)
(up-modify-goal g-current-group-destination-y-goal-id c:+ 1)
)